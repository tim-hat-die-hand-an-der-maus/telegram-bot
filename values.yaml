namespace: timhatdiehandandermaus

deployment:
  name: telegram-bot
  image: ghcr.io/tim-hat-die-hand-an-der-maus/telegram-bot:__TAG__
  imagePullPolicy: Always
  revisionHistoryLimit: 1
  replicas: 1
  labels:
    app: telegram-bot
  requests:
    cpu: 100m
    memory: 100Mi
  limit:
    cpu: 300m
    memory: 300Mi

cronjob:
  movie:
    name: telegram-bot-which-movie-poll
    image: ghcr.io/tim-hat-die-hand-an-der-maus/telegram-bot:__TAG__
    imagePullPolicy: Always
    command: [ '"/app/timhatdiehandandermaus"' ]
    args: [ '"poll"' ]
    schedule: "CRON_TZ=UTC 0 19 * * 5"
    backoffLimit: 0
    successfulJobsHistoryLimit: 1
    failedJobsHistoryLimit: 1
    restartPolicy: Never
    labels:
      app: telegram-bot-poll
    requests:
      cpu: 100m
      memory: 100Mi
    limit:
      cpu: 300m
      memory: 300Mi
  participation:
    name: telegram-bot-participation-poll
    image: ghcr.io/tim-hat-die-hand-an-der-maus/telegram-bot:__TAG__
    imagePullPolicy: Always
    command: [ '"/app/timhatdiehandandermaus"' ]
    args: [ '"participation-poll"' ]
    schedule: "CRON_TZ=UTC 0 19 * * 0"
    backoffLimit: 0
    successfulJobsHistoryLimit: 1
    failedJobsHistoryLimit: 1
    restartPolicy: Never
    labels:
      app: telegram-bot-poll
    requests:
      cpu: 100m
      memory: 100Mi
    limit:
      cpu: 300m
      memory: 300Mi

poll:
  defaultOptions: "Nicht dabei,Mir egal"

configmap:
  name: telegram-bot-config
  botName: "watchqueuebot"
  baseUrl: "http://api:8080"
  adminChat: "-1001556735505"

secret:
  name: telegram-token
  telegramToken: __TELEGRAM_TOKEN__
